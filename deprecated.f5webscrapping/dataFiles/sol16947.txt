


Topic

If you are using the HA group feature to facilitate failover for your Sync-Failover device group, you should be aware of best practice uses for the feature.

DescriptionAn HA group is a high-availability feature that allows you to specify a set of configuration objects such as trunks, pools, and/or VIPRION clusters that may be used to trigger failover for redundant BIG-IP systems. When you associate an HA group with a traffic group instance on a specific device, the BIG-IP system calculates a health score for that device for the associated traffic group, based on trunk, pool, or cluster availability. This HA health score determines the device that should be active at any given time and then triggers failover if necessary. You should have an understanding of best practice methods when using an HA group, and be aware of BIG-IP features that may not be compatible with the HA group feature.RecommendationsWhen configuring an HA group, you should consider the following factors:When using pool objects to facilitate failover for an HA group, you should be aware of the following:	 	A pool object should not be the only element used to calculate the health score.		F5 recommends that you use trunks and pools, or trunks only, to calculate the health score for a device.		The pool members should not be volatile and prone to flapping.		The HA group feature is designed to facilitate fast fail over based on a system score. The failover triggered by an HA group is noticeably faster than a failover triggered by system, gateway, or VLAN failure. Therefore, if you rely on a pool alone to facilitate failover, and the pool members are known to be volatile and occasionally flap, the BIG-IP systems may experience unnecessary failover events.			Do not configure the min-up-members attribute on any pool that you intend to include in the HA group.	The min-up-members pool attribute specifies the minimum number of pool members that must be marked up; otherwise the system takes the defined action such as failover. Using the min-up-members option for a pool that is associated with an HA group may result in unnecessary failover events for the device group members.	The Auto Failback option is not compatible with the HA group feature	In BIG-IP 11.x, the tmsh and Configuration utilities incorrectly allow you to configure the Auto Failback option when using the HA group feature. The Auto Failback option is not compatible with and should not be used with the HA group feature. This is because when the BIG-IP systems in a device group are configured with HA group, the system determines which device should be active based on the HA scores calculated amongst all the devices in the device group. If the Auto Failback option is enabled for the traffic group, and a failover occurs, the system will fail back to the default device when it becomes available at a later time. As a result, the BIG-IP systems may experience multiple failovers during the failback process. For more information, refer to the following articles:	 	SOL15067: The Auto Failback option is not compatible with the HA group featureSOL15495: The Traffic Management Shell may allow configuration of conflicting failover settings	You should not use the Force to Standby feature when you use the HA group feature	If you attempt to manually control HA operation for the BIG-IP system by using the Force to Standby feature while the HA group feature is enabled, the HA group feature may override the active/standby state and may reassign the active system automatically. For more information, refer to the following article:	SOL14515: The Force to Standby feature should not be used when the HA group feature is enabled.	Supplemental InformationThe BIG-IP Device Service Clustering: Administration guide (BIG-IP 11.2.1 and later)Note: For information about how to locate F5 product guides, refer to SOL12453464: Finding product documentation on AskF5.

