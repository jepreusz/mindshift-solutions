


Known IssueThis is the result of a known issue. When the cross-site request forgery (CSRF) protection feature is enabled for an application, the size of each HTML response will increase by approximately 3KB, and some browsers may display pages incorrectly, report security exceptions, or report JavaScript error messages on pages that contain JavaScript. In some cases, the application may be rendered unuseable.
When the CSRF protection feature is enabled, the BIG-IP ASM system injects 3KB of custom JavaScript into HTML responses. The injected JavaScript is intended to alter embedded links to include the CSRT token used by the CSRF feature, thereby allowing the BIG-IP ASM to verify the integrity of subsequent requests. Due to the inconsistent manner in which form action URLs are coded within web applications to support various browsers, some browsers may be unable to interpret some pages after the JavaScript has been added. For example, if you enable CSRF protection, client browsers may display the login page incorrectly, and the JavaScript buttons intended to allow users to submit their credentials may not function as expected. As a result, users may be unable to access the application.
Note: For general information about the CSRF prevention feature, refer to the the Configuring CSRF protection section of the Manually Configuring Security Policies chapter in the Configuration Guide for BIG-IP Application Security Manager. In addition, refer to SOL11903: BIG-IP ASM violation: CSRF Attack detected.  For more information about the CSRT token used by the BIG-IP ASM system, refer to SOL11930: Overview of the ASM CSRF protection feature .
F5 Product Development tracked this issue as ID 226626 (formerly CR141865) and it was fixed in BIG-IP ASM 10.2.1. For information about upgrading, refer to the BIG-IP ASM release notes.
Additionally, this issue has been fixed for ID 324376 (formerly CR141865) in Hotfix-BIGIP-10.2.0-1744.0-HF1 for BIG-IP 10.2.0. You may download this hotfix or later versions of the hotfix from the F5 Downloads site.
To view a list of the latest available hotfixes, refer to SOL9502: BIG-IP hotfix matrix.
For information about installing version 10.x hotfixes, refer to SOL10025: Managing F5 product hotfixes for BIG-IP 10.x systems.
For information about the F5 hotfix policy, refer to SOL4918: Overview of F5 critical issue hotfix policy.


