





 

 
 

 


 






 
Overview: Configuring DNS64

 
 

  
You can configure BIG-IP
   Local Traffic Manager (LTM) and BIG-IP
   Global Traffic Manager (GTM) systems to handle IPv6-only client connection
   requests to IPv4-only servers on your network by returning an AAAA record response to the client. 

  

   
   
  
  Mapping IPv6 addresses to IPv4 addresses


 








 
Task summary

 
 

  
Perform these tasks to configure DNS64 on a BIG-IP system. 







    
Creating a custom DNS profile 

    
    


        
You can create a custom DNS profile to configure how the BIG-IP system handles DNS connection requests.

        


                
On the Main tab, click Local Traffic > Profiles > Services > DNS. 
                 The DNS profile list screen opens.
            


                
Click Create.
                 The New DNS profile screen opens.
            


                
In the Name field, type a unique name for the
                    profile.
            



                
In the Parent Profile list, accept the default
                        dns profile.
            



                
Select the Custom check box.
                 
            



                
In the Global Traffic Management list, accept the
                    default value Enabled.
            



                
From the DNS IPv6 to IPv4 list, select how you want the
                    system to handle IPv6 to IPv4 address mapping in DNS queries and
                    responses.
                





Option
Description




                    
                    

                        
Disabled

                        The BIG-IP system does not map IPv4 addresses to IPv6
                            addresses.

                    


                    

                        
Immediate

                        The BIG-IP system receives an AAAA query and forwards the query to a
                            DNS server. The BIG-IP system then forwards the first good response from
                            the DNS server to the client. If the system receives an A response
                            first, it appends a 96-bit prefix to the record and forwards it to the
                            client. If the system receives an AAAA response first, it simply
                            forwards the response to the client. The system disregards the second
                            response from the DNS server. 

                    


                    

                        
Secondary

                        The BIG-IP system receives an AAAA query and forwards the query to a
                            DNS server. Only if the server fails to return a response does the
                            BIG-IP system send an A query. If the BIG-IP system receives an A
                            response, it appends a 96-bit user-configured prefix to the record and
                            forwards it to the client. 

                    


                    

                        
v4 Only

                        The BIG-IP system receives an AAAA query, but forwards an A query to
                            a DNS server. After receiving an A response from the server, the BIG-IP
                            system appends a 96-bit user-configured prefix to the record and
                            forwards it to the client. 
Important: Select this option
                                only if you know that all your DNS servers are IPv4 only
                                servers.



                    


                



                 If you selected Immediate,
                        Secondary, or V4 Only two new
                    fields display. 
            


                
In the IPv6 to IPv4 Prefix field, specify the prefix the
                    BIG-IP system appends to all A query responses to an IPv6 request.
            



                
From the IPv6 to IPv4 Additional Section Rewrite list,
                    select an option to allow improved network efficiency for both Unicast and
                    Multicast DNS-SD responses.
                





Option
Description




                    
                    

                        
Disabled

                        The BIG-IP system does not perform additional rewrite.

                    


                    

                        
v4 Only

                        The BIG-IP system accepts only A records. The system appends the
                            96-bit user-configured prefix to a record and returns an IPv6 response
                            to the client.

                    


                    

                        
v6 Only

                        The BIG-IP system accepts only AAAA records and returns an IPv6
                            response to the client.

                    


                    

                        
Any

                        The BIG-IP system accepts and returns both A and AAAA records. If
                            the DNS server returns an A record in the Additional section of a DNS
                            message, the BIG-IP system appends the 96-bit user-configured prefix to
                            the record and returns an IPv6 response to the client. 

                    


                



            



                
From the Use BIND Server on BIG-IP list, select
                        Enabled. 
                 
                    

Note: Enable this setting only when you want the system to forward
                        non-wide IP queries to the local BIND server on BIG-IP GTM.

                
            



                
Click Finished.
            




    








    
Assigning a DNS profile to a virtual server

    
    

        

        


        


                
On the Main tab, click Local Traffic > Virtual Servers.
                 The Virtual Server List screen opens.
            


                
Click the name of the virtual server you want to modify.
            



                
From the DNS Profile list, select the profile you
                    created to manage IPv6 to IPv4 address mapping.
            



                
Click Update.
            




        
This virtual server can now pass traffic between an IPv6-only client and an IPv4-only DNS server.

    










    
Implementation result

    
    

        
You now have an implementation of DNS64 on the BIG-IP system.

    














 

 
 

 


 






 
Overview: Configuring DNS64

 
 

  
You can configure BIG-IP
   Local Traffic Manager (LTM) and BIG-IP
   Global Traffic Manager (GTM) systems to handle IPv6-only client connection
   requests to IPv4-only servers on your network by returning an AAAA record response to the client. 

  

   
   
  
  Mapping IPv6 addresses to IPv4 addresses


 








 
Task summary

 
 

  
Perform these tasks to configure DNS64 on a BIG-IP system. 







    
Creating a custom DNS profile 

    
    


        
You can create a custom DNS profile to configure how the BIG-IP system handles DNS connection requests.

        


                
On the Main tab, click Local Traffic > Profiles > Services > DNS. 
                 The DNS profile list screen opens.
            


                
Click Create.
                 The New DNS profile screen opens.
            


                
In the Name field, type a unique name for the
                    profile.
            



                
In the Parent Profile list, accept the default
                        dns profile.
            



                
Select the Custom check box.
                 
            



                
In the Global Traffic Management list, accept the
                    default value Enabled.
            



                
From the DNS IPv6 to IPv4 list, select how you want the
                    system to handle IPv6 to IPv4 address mapping in DNS queries and
                    responses.
                





Option
Description




                    
                    

                        
Disabled

                        The BIG-IP system does not map IPv4 addresses to IPv6
                            addresses.

                    


                    

                        
Immediate

                        The BIG-IP system receives an AAAA query and forwards the query to a
                            DNS server. The BIG-IP system then forwards the first good response from
                            the DNS server to the client. If the system receives an A response
                            first, it appends a 96-bit prefix to the record and forwards it to the
                            client. If the system receives an AAAA response first, it simply
                            forwards the response to the client. The system disregards the second
                            response from the DNS server. 

                    


                    

                        
Secondary

                        The BIG-IP system receives an AAAA query and forwards the query to a
                            DNS server. Only if the server fails to return a response does the
                            BIG-IP system send an A query. If the BIG-IP system receives an A
                            response, it appends a 96-bit user-configured prefix to the record and
                            forwards it to the client. 

                    


                    

                        
v4 Only

                        The BIG-IP system receives an AAAA query, but forwards an A query to
                            a DNS server. After receiving an A response from the server, the BIG-IP
                            system appends a 96-bit user-configured prefix to the record and
                            forwards it to the client. 
Important: Select this option
                                only if you know that all your DNS servers are IPv4 only
                                servers.



                    


                



                 If you selected Immediate,
                        Secondary, or V4 Only two new
                    fields display. 
            


                
In the IPv6 to IPv4 Prefix field, specify the prefix the
                    BIG-IP system appends to all A query responses to an IPv6 request.
            



                
From the IPv6 to IPv4 Additional Section Rewrite list,
                    select an option to allow improved network efficiency for both Unicast and
                    Multicast DNS-SD responses.
                





Option
Description




                    
                    

                        
Disabled

                        The BIG-IP system does not perform additional rewrite.

                    


                    

                        
v4 Only

                        The BIG-IP system accepts only A records. The system appends the
                            96-bit user-configured prefix to a record and returns an IPv6 response
                            to the client.

                    


                    

                        
v6 Only

                        The BIG-IP system accepts only AAAA records and returns an IPv6
                            response to the client.

                    


                    

                        
Any

                        The BIG-IP system accepts and returns both A and AAAA records. If
                            the DNS server returns an A record in the Additional section of a DNS
                            message, the BIG-IP system appends the 96-bit user-configured prefix to
                            the record and returns an IPv6 response to the client. 

                    


                



            



                
From the Use BIND Server on BIG-IP list, select
                        Enabled. 
                 
                    

Note: Enable this setting only when you want the system to forward
                        non-wide IP queries to the local BIND server on BIG-IP GTM.

                
            



                
Click Finished.
            




    








    
Assigning a DNS profile to a virtual server

    
    

        

        


        


                
On the Main tab, click Local Traffic > Virtual Servers.
                 The Virtual Server List screen opens.
            


                
Click the name of the virtual server you want to modify.
            



                
From the DNS Profile list, select the profile you
                    created to manage IPv6 to IPv4 address mapping.
            



                
Click Update.
            




        
This virtual server can now pass traffic between an IPv6-only client and an IPv4-only DNS server.

    










    
Implementation result

    
    

        
You now have an implementation of DNS64 on the BIG-IP system.

    














 

 
 

 


 






 
Overview: Configuring DNS64

 
 

  
You can configure BIG-IP
   Local Traffic Manager (LTM) and BIG-IP
   Global Traffic Manager (GTM) systems to handle IPv6-only client connection
   requests to IPv4-only servers on your network by returning an AAAA record response to the client. 

  

   
   
  
  Mapping IPv6 addresses to IPv4 addresses


 








 
Task summary

 
 

  
Perform these tasks to configure DNS64 on a BIG-IP system. 







    
Creating a custom DNS profile 

    
    


        
You can create a custom DNS profile to configure how the BIG-IP system handles DNS connection requests.

        


                
On the Main tab, click Local Traffic > Profiles > Services > DNS. 
                 The DNS profile list screen opens.
            


                
Click Create.
                 The New DNS profile screen opens.
            


                
In the Name field, type a unique name for the
                    profile.
            



                
In the Parent Profile list, accept the default
                        dns profile.
            



                
Select the Custom check box.
                 
            



                
In the Global Traffic Management list, accept the
                    default value Enabled.
            



                
From the DNS IPv6 to IPv4 list, select how you want the
                    system to handle IPv6 to IPv4 address mapping in DNS queries and
                    responses.
                





Option
Description




                    
                    

                        
Disabled

                        The BIG-IP system does not map IPv4 addresses to IPv6
                            addresses.

                    


                    

                        
Immediate

                        The BIG-IP system receives an AAAA query and forwards the query to a
                            DNS server. The BIG-IP system then forwards the first good response from
                            the DNS server to the client. If the system receives an A response
                            first, it appends a 96-bit prefix to the record and forwards it to the
                            client. If the system receives an AAAA response first, it simply
                            forwards the response to the client. The system disregards the second
                            response from the DNS server. 

                    


                    

                        
Secondary

                        The BIG-IP system receives an AAAA query and forwards the query to a
                            DNS server. Only if the server fails to return a response does the
                            BIG-IP system send an A query. If the BIG-IP system receives an A
                            response, it appends a 96-bit user-configured prefix to the record and
                            forwards it to the client. 

                    


                    

                        
v4 Only

                        The BIG-IP system receives an AAAA query, but forwards an A query to
                            a DNS server. After receiving an A response from the server, the BIG-IP
                            system appends a 96-bit user-configured prefix to the record and
                            forwards it to the client. 
Important: Select this option
                                only if you know that all your DNS servers are IPv4 only
                                servers.



                    


                



                 If you selected Immediate,
                        Secondary, or V4 Only two new
                    fields display. 
            


                
In the IPv6 to IPv4 Prefix field, specify the prefix the
                    BIG-IP system appends to all A query responses to an IPv6 request.
            



                
From the IPv6 to IPv4 Additional Section Rewrite list,
                    select an option to allow improved network efficiency for both Unicast and
                    Multicast DNS-SD responses.
                





Option
Description




                    
                    

                        
Disabled

                        The BIG-IP system does not perform additional rewrite.

                    


                    

                        
v4 Only

                        The BIG-IP system accepts only A records. The system appends the
                            96-bit user-configured prefix to a record and returns an IPv6 response
                            to the client.

                    


                    

                        
v6 Only

                        The BIG-IP system accepts only AAAA records and returns an IPv6
                            response to the client.

                    


                    

                        
Any

                        The BIG-IP system accepts and returns both A and AAAA records. If
                            the DNS server returns an A record in the Additional section of a DNS
                            message, the BIG-IP system appends the 96-bit user-configured prefix to
                            the record and returns an IPv6 response to the client. 

                    


                



            



                
From the Use BIND Server on BIG-IP list, select
                        Enabled. 
                 
                    

Note: Enable this setting only when you want the system to forward
                        non-wide IP queries to the local BIND server on BIG-IP GTM.

                
            



                
Click Finished.
            




    








    
Assigning a DNS profile to a virtual server

    
    

        

        


        


                
On the Main tab, click Local Traffic > Virtual Servers.
                 The Virtual Server List screen opens.
            


                
Click the name of the virtual server you want to modify.
            



                
From the DNS Profile list, select the profile you
                    created to manage IPv6 to IPv4 address mapping.
            



                
Click Update.
            




        
This virtual server can now pass traffic between an IPv6-only client and an IPv4-only DNS server.

    










    
Implementation result

    
    

        
You now have an implementation of DNS64 on the BIG-IP system.

    








