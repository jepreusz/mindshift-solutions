


TopicYou should consider using this procedure under the following condition:You need to perform logging on the serial console to a file for a vCMP guestDescriptionA vCMP guest does not have a physical serial port from which to access its console. When you perform troubleshooting on a vCMP guest on the console access level, you can use the vconsole utility on the vCMP host on which the vCMP guest resides. You can then capture the vCMP guest serial console using the vconsole utility by way of the vCMP host’s command line.In BIG-IP 12.0.0 and later, you can capture the serial console logging for a vCMP guest directly into a file on the vCMP host. You can do so by enabling the db variable vcmp.guest.console.logging on the vCMP host that hosts the vCMP guest on which you want to perform serial console logging. After the db variable is enabled, the vCMP guest that is re-deployed will start the logging in the /var/run/vcmpd/<vcmp guest name>/serial-console.log file. By default, this db variable vcmp.guest.console.logging is disabled.PrerequisitesYou must meet the following prerequisite to use this procedure:Have administrative access to the vCMP host’s command lineProceduresEnabling serial console logging for a vCMP guestTo configure serial console logging to a file for a vCMP guest, perform the following procedure:Impact of procedure: Performing the following procedure requires that you redeploy the vCMP guest and disrupt traffic until the vCMP guest is booted up. F5 recommends that you perform this procedure during a maintenance period appropriate for your application environment.Log in to the Traffic Management Shell (tmsh) on the vCMP host.Enable the db variable vcmp.guest.console.logging on the vCMP host by typing the following command:	modify sys db vcmp.guest.console.logging value enable	Set the state of the desired vCMP guest to provisioned by using the following command syntax:	modify vcmp guest <vcmp guest name> state provisioned	For example, you would type the following command to set the state of guest123 to provisioned:	modify vcmp guest guest123 state provisioned	Re-deploy the desired vCMP guest by using the following command syntax:	modify vcmp guest <vcmp guest name> state deployed	For example, you would type the following command to set the state of guest123 to deployed:	modify vcmp guest guest123 state deployed	You can now proceed to view the serial-console.log file for that vCMP guest in the /var/run/vcmpd/<vcmp guest name>/ directory. Using the previous example, the serial console log file for guest123 is located in /var/run/vcmpd/guest123/serial-console.log.To enable serial console logging to a file for the next desired vCMP guest, repeat steps 3 through 4, as needed.Disabling serial console logging for a vCMP guestTo disable serial console logging to a file for a vCMP guest, perform the following procedure:Impact of procedure: Performing the following procedure requires that you redeploy the vCMP guest, and disrupt traffic until the vCMP guest is booted up. F5 recommends that you perform this procedure during a maintenance period appropriate for your application environment.Log in to the tmsh utility on the vCMP host.Disable the db variable vcmp.guest.console.logging on the vCMP host by typing the following command:	modify sys db vcmp.guest.console.logging value disable	Set the state of the desired vCMP guest to provisioned by using the following command syntax:	modify vcmp guest <vcmp guest name> state provisioned	For example, you would type the following command to set the state of guest123 to provisioned:	modify vcmp guest guest123 state provisioned	Re-deploy the desired vCMP guest by using the following command syntax:	modify vcmp guest <vcmp guest name> state deployed	For example, you would type the following command to set the state of guest123 to deployed:	modify vcmp guest guest123 state deployed	To disable serial console logging to a file for the next vCMP guest, repeat steps 3 through 4, as needed.Supplemental InformationSOL15372: Overview of the vconsole utility

